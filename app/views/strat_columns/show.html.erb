<div class="flex-container">
  
  <div class= "left-column">
    <div class="left-column-title">
      <h3><b>Stratigraphic Column Visualization</b></h3>
    </div>
    <div class="d3js-container">
    
      <% @textures_to_render.each do |i| %>
        <%= render i %>
      <% end %>
      
      <svg width="0" height="0" display="absolute">
         <defs>
          <pattern id="pattern1" patternUnits="userSpaceOnUse" x="20" y="-10" width="145" height="3000" >
            <g transform="scale(.30)">
              <path fill="none" fill-rule="evenodd" stroke="#000000" stroke-width="6" d="m-4.344186,114.541069c21.133192,-15.035461 42.266386,-60.14156 84.53277,-60.14156c42.266388,0 42.266388,60.14156 84.532761,60.14156c42.266388,0 42.266388,-60.14156 84.532776,-60.14156c42.266388,0 42.266388,60.14156 84.532196,60.14156c42.266388,0 42.266388,-60.14156 84.532776,-60.14156c42.266388,0 42.266388,60.14156 84.532776,60.14156c42.266357,0 42.266357,-60.14156 84.532776,-60.14156c42.266357,0 42.266357,60.14156 84.532166,60.14156c42.266968,0 42.266968,-60.14156 84.532776,-60.14156c42.266418,0 63.399597,45.106098 84.532776,58.14156" id="path2454"/>
            </g>
          </pattern> 
         </defs>
        </svg>
      
      
      <svg class='stratChart'></svg>

      <%= render "d3js" %>
    </div>
  </div>
  
  <div class="right-column">
    <div class="general-info-wrapper">
      <h3><b>Stratigraphic Column General Information</b></h3>
      <div class="general-info">
        <p><b><%= @strat_column.name %></b></p>
        <p>Latitude: <%= @strat_column.lat %> </p>
        <p>Longitude: <%= @strat_column.lng %> </p>
        <p>Brief Description: <%= @strat_column.description %> </p>
      </div> 
      
      <div class="info-btns">
        <%= link_to edit_strat_column_path(id: @strat_column.id), class: "btn btn-default btn-xs" do %>
          Edit Column Details
        <% end%>
        
        <%= link_to strat_column_path(@strat_column.id), method: :delete, data: { confirm: 'Are you sure you want to delete this column?'}, class: 'btn btn-default btn-xs' do %>
          <i>Delete Column</i>
        <% end %>
      </div>  
    </div> <!--general info-->
    
    <div class="layer-info-wrapper">
      <h3><b>Strata Characteristics and Information</b></h3>
      <% @layers.each_with_index do |layer, i| %>
        <div class="layer-info">
          <h4><b>Stratum #<%= i+=1 %></b></h4>
          
          <div class="layer-info-sub">
            <p>Unit name: <%= layer.name %> </p>
            <p>Formation: <%= layer.formation %> </p>
            <p>Period: <%= layer.timescale.interval_name%></p>
            <p>Epoch or Age: <%= layer.epoch_age%></p>
            <p>Lithology: <%= layer.lithology.name %> </p>
            <p>Thickness(m): <%= layer.thickness %> </p>
            <p>Characteristics: <%= layer.description %> </p>
          </div>
          
        </div>  
      <% end %>
    </div>
    
  </div> <!--right-column end-->
</div> <!--flex container-->
