<%= form_for @collection, remote: true, :html => { :multipart => true } do |f| %>
  <div id="errors" class="bg-danger text-danger"></div>  
  
    <div class="infoFormFields">

      <%= f.hidden_field :user_id, value: @user_id if @collection.new_record?%>   

      <div class = "form-group">
        <%= f.label :name %>
        <%= f.text_field :name, required: :true, class: "form-control" %>
      </div>
      
      <div class = "form-group">
        <%= f.label :description %>
        <%= f.text_area :description, class: "form-control textarea_options" %>
      </div>
      
      
      <div class = "form-group">
        <%= f.label :strat_column_ids, "Select columns to include in the collection" %> </br>
        
        <%= hidden_field_tag "collection[strat_column_ids][]" , nil %>
        <% @user_columns.each do |x| %>
          <li>
            <%= check_box_tag "collection[strat_column_ids][]", x.id, @collection.strat_column_ids.include?(x.id), id: dom_id(x) %>
            <%= label_tag dom_id(x), x.name, class: "column_checkbox_label" %>
            <% if x.lat.nil? || x.lng.nil? %> 
              <p class="invalid-coords"> (<strong>Warning:</strong> <%= x.name %> coordinates are empty or invalid.) </p>
            <% end %></br>
          </li>
        <% end %>
      </div>
      
    </div>  

  <div class="modal-footer">
    <div class = "form-group">
      <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      <%= f.submit "Submit", class: 'btn btn-primary' %>
    </div>
  </div>  
  
<% end %>